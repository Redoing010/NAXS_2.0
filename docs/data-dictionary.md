# NAXS数据字典

本文档提供NAXS系统中所有数据字段的详细定义、业务含义和使用说明。

## 1. 股票基础信息字段

### 1.1 股票标识字段

| 字段名 | 中文名 | 数据类型 | 长度 | 必填 | 说明 | 示例 |
|--------|--------|----------|------|------|------|------|
| symbol | 股票代码 | string | 9 | 是 | 统一格式：6位数字.交易所代码 | 000001.SZ |
| name | 股票名称 | string | 50 | 是 | 股票中文简称 | 平安银行 |
| exchange | 交易所 | string | 2 | 是 | SH=上交所, SZ=深交所 | SZ |
| list_date | 上市日期 | date | - | 是 | 股票首次公开发行日期 | 1991-04-03 |
| delist_date | 退市日期 | date | - | 否 | 股票退市日期，未退市为空 | 2023-05-15 |

### 1.2 分类字段

| 字段名 | 中文名 | 数据类型 | 长度 | 必填 | 说明 | 示例 |
|--------|--------|----------|------|------|------|------|
| industry_1 | 一级行业 | string | 50 | 否 | 中证行业分类一级行业 | 金融地产 |
| industry_2 | 二级行业 | string | 50 | 否 | 中证行业分类二级行业 | 银行 |
| industry_3 | 三级行业 | string | 50 | 否 | 中证行业分类三级行业 | 股份制银行 |
| sector | 板块 | string | 20 | 否 | 主板/中小板/创业板/科创板 | 主板 |
| is_st | ST标记 | boolean | - | 否 | 是否为ST股票 | false |
| is_suspended | 停牌标记 | boolean | - | 否 | 是否停牌 | false |

### 1.3 市值字段

| 字段名 | 中文名 | 数据类型 | 单位 | 必填 | 说明 | 示例 |
|--------|--------|----------|------|------|------|------|
| market_cap | 总市值 | float64 | 元 | 否 | 总股本×收盘价 | 2500000000.00 |
| float_market_cap | 流通市值 | float64 | 元 | 否 | 流通股本×收盘价 | 2000000000.00 |
| shares_outstanding | 总股本 | int64 | 股 | 否 | 公司发行的股票总数 | 1000000000 |
| shares_float | 流通股本 | int64 | 股 | 否 | 可自由交易的股票数量 | 800000000 |

## 2. 价格数据字段

### 2.1 OHLCV基础字段

| 字段名 | 中文名 | 数据类型 | 单位 | 精度 | 必填 | 说明 | 示例 |
|--------|--------|----------|------|------|------|------|------|
| open | 开盘价 | float64 | 元 | 2位小数 | 是 | 当日/当期第一笔交易价格 | 10.50 |
| high | 最高价 | float64 | 元 | 2位小数 | 是 | 当日/当期最高交易价格 | 10.80 |
| low | 最低价 | float64 | 元 | 2位小数 | 是 | 当日/当期最低交易价格 | 10.45 |
| close | 收盘价 | float64 | 元 | 2位小数 | 是 | 当日/当期最后交易价格 | 10.75 |
| volume | 成交量 | int64 | 股 | 整数 | 是 | 当日/当期成交股票数量 | 12345678 |
| amount | 成交额 | float64 | 元 | 2位小数 | 否 | 当日/当期成交金额 | 132456789.50 |

**业务规则**：
- high >= max(open, close)
- low <= min(open, close)
- 所有价格 > 0
- volume >= 0, amount >= 0

### 2.2 复权相关字段

| 字段名 | 中文名 | 数据类型 | 单位 | 精度 | 必填 | 说明 | 示例 |
|--------|--------|----------|------|------|------|------|------|
| adj_factor | 复权因子 | float64 | 倍数 | 6位小数 | 否 | 用于计算复权价格的因子 | 1.234567 |
| adj_open | 复权开盘价 | float64 | 元 | 2位小数 | 否 | open × adj_factor | 12.96 |
| adj_high | 复权最高价 | float64 | 元 | 2位小数 | 否 | high × adj_factor | 13.33 |
| adj_low | 复权最低价 | float64 | 元 | 2位小数 | 否 | low × adj_factor | 12.90 |
| adj_close | 复权收盘价 | float64 | 元 | 2位小数 | 否 | close × adj_factor | 13.27 |

**复权类型说明**：
- **前复权(qfq)**：以最新价格为基准，向前调整历史价格
- **后复权(hfq)**：以最早价格为基准，向后调整价格
- **不复权(none)**：使用原始交易价格

### 2.3 涨跌相关字段

| 字段名 | 中文名 | 数据类型 | 单位 | 精度 | 必填 | 说明 | 示例 |
|--------|--------|----------|------|------|------|------|------|
| pct_chg | 涨跌幅 | float64 | % | 4位小数 | 否 | (close-prev_close)/prev_close×100 | 2.3456 |
| change | 涨跌额 | float64 | 元 | 2位小数 | 否 | close - prev_close | 0.25 |
| prev_close | 昨收价 | float64 | 元 | 2位小数 | 否 | 前一交易日收盘价 | 10.50 |

### 2.4 交易活跃度字段

| 字段名 | 中文名 | 数据类型 | 单位 | 精度 | 必填 | 说明 | 示例 |
|--------|--------|----------|------|------|------|------|------|
| turnover | 换手率 | float64 | % | 4位小数 | 否 | volume/shares_float×100 | 1.5432 |
| amplitude | 振幅 | float64 | % | 4位小数 | 否 | (high-low)/prev_close×100 | 3.3333 |
| volume_ratio | 量比 | float64 | 倍数 | 4位小数 | 否 | 当日成交量/近期平均成交量 | 1.2345 |

## 3. 财务数据字段

### 3.1 损益表字段

| 字段名 | 中文名 | 数据类型 | 单位 | 精度 | 必填 | 说明 | 示例 |
|--------|--------|----------|------|------|------|------|------|
| revenue | 营业收入 | float64 | 万元 | 2位小数 | 否 | 主营业务收入+其他业务收入 | 1000000.00 |
| operating_profit | 营业利润 | float64 | 万元 | 2位小数 | 否 | 营业收入-营业成本-费用 | 200000.00 |
| net_profit | 净利润 | float64 | 万元 | 2位小数 | 否 | 利润总额-所得税费用 | 150000.00 |
| net_profit_parent | 归母净利润 | float64 | 万元 | 2位小数 | 否 | 归属于母公司股东的净利润 | 145000.00 |

### 3.2 资产负债表字段

| 字段名 | 中文名 | 数据类型 | 单位 | 精度 | 必填 | 说明 | 示例 |
|--------|--------|----------|------|------|------|------|------|
| total_assets | 总资产 | float64 | 万元 | 2位小数 | 否 | 流动资产+非流动资产 | 5000000.00 |
| total_liabilities | 总负债 | float64 | 万元 | 2位小数 | 否 | 流动负债+非流动负债 | 3000000.00 |
| net_assets | 净资产 | float64 | 万元 | 2位小数 | 否 | 总资产-总负债 | 2000000.00 |
| equity_parent | 归母净资产 | float64 | 万元 | 2位小数 | 否 | 归属于母公司股东的权益 | 1900000.00 |

### 3.3 现金流量表字段

| 字段名 | 中文名 | 数据类型 | 单位 | 精度 | 必填 | 说明 | 示例 |
|--------|--------|----------|------|------|------|------|------|
| operating_cash_flow | 经营现金流 | float64 | 万元 | 2位小数 | 否 | 经营活动产生的现金流量净额 | 180000.00 |
| investing_cash_flow | 投资现金流 | float64 | 万元 | 2位小数 | 否 | 投资活动产生的现金流量净额 | -50000.00 |
| financing_cash_flow | 筹资现金流 | float64 | 万元 | 2位小数 | 否 | 筹资活动产生的现金流量净额 | -30000.00 |

### 3.4 财务比率字段

| 字段名 | 中文名 | 数据类型 | 单位 | 精度 | 必填 | 说明 | 计算公式 | 示例 |
|--------|--------|----------|------|------|------|------|----------|------|
| eps_basic | 基本每股收益 | float64 | 元/股 | 4位小数 | 否 | 每股净利润 | 净利润/总股本 | 0.1500 |
| eps_diluted | 稀释每股收益 | float64 | 元/股 | 4位小数 | 否 | 稀释后每股收益 | 净利润/稀释股本 | 0.1480 |
| roe | 净资产收益率 | float64 | % | 4位小数 | 否 | 股东权益回报率 | 净利润/净资产×100 | 7.5000 |
| roa | 总资产收益率 | float64 | % | 4位小数 | 否 | 资产使用效率 | 净利润/总资产×100 | 3.0000 |
| debt_ratio | 资产负债率 | float64 | % | 4位小数 | 否 | 负债占资产比例 | 总负债/总资产×100 | 60.0000 |
| current_ratio | 流动比率 | float64 | 倍数 | 4位小数 | 否 | 短期偿债能力 | 流动资产/流动负债 | 1.2000 |

## 4. 估值指标字段

### 4.1 市盈率相关

| 字段名 | 中文名 | 数据类型 | 单位 | 精度 | 必填 | 说明 | 计算公式 | 示例 |
|--------|--------|----------|------|------|------|------|----------|------|
| pe_ttm | 市盈率TTM | float64 | 倍数 | 4位小数 | 否 | 滚动12个月市盈率 | 市值/净利润TTM | 15.6789 |
| pe_static | 静态市盈率 | float64 | 倍数 | 4位小数 | 否 | 基于年报的市盈率 | 市值/年度净利润 | 16.2345 |
| pe_dynamic | 动态市盈率 | float64 | 倍数 | 4位小数 | 否 | 基于预测的市盈率 | 市值/预测净利润 | 14.5678 |

### 4.2 市净率相关

| 字段名 | 中文名 | 数据类型 | 单位 | 精度 | 必填 | 说明 | 计算公式 | 示例 |
|--------|--------|----------|------|------|------|------|----------|------|
| pb | 市净率 | float64 | 倍数 | 4位小数 | 否 | 市价与净资产比率 | 市值/净资产 | 1.2500 |
| pb_mrq | 市净率MRQ | float64 | 倍数 | 4位小数 | 否 | 基于最近季度的市净率 | 市值/最近季度净资产 | 1.2800 |

### 4.3 其他估值指标

| 字段名 | 中文名 | 数据类型 | 单位 | 精度 | 必填 | 说明 | 计算公式 | 示例 |
|--------|--------|----------|------|------|------|------|----------|------|
| ps_ttm | 市销率TTM | float64 | 倍数 | 4位小数 | 否 | 市值与收入比率 | 市值/营业收入TTM | 2.5000 |
| pcf_ttm | 市现率TTM | float64 | 倍数 | 4位小数 | 否 | 市值与现金流比率 | 市值/经营现金流TTM | 8.5000 |
| ev_ebitda | EV/EBITDA | float64 | 倍数 | 4位小数 | 否 | 企业价值倍数 | 企业价值/EBITDA | 12.3456 |

## 5. 技术指标字段

### 5.1 趋势指标

| 字段名 | 中文名 | 数据类型 | 单位 | 精度 | 必填 | 说明 | 参数 | 示例 |
|--------|--------|----------|------|------|------|------|------|------|
| ma_5 | 5日均线 | float64 | 元 | 2位小数 | 否 | 5日移动平均价格 | 周期=5 | 10.65 |
| ma_10 | 10日均线 | float64 | 元 | 2位小数 | 否 | 10日移动平均价格 | 周期=10 | 10.58 |
| ma_20 | 20日均线 | float64 | 元 | 2位小数 | 否 | 20日移动平均价格 | 周期=20 | 10.45 |
| ma_60 | 60日均线 | float64 | 元 | 2位小数 | 否 | 60日移动平均价格 | 周期=60 | 10.20 |
| ema_12 | 12日指数均线 | float64 | 元 | 2位小数 | 否 | 12日指数移动平均 | 周期=12 | 10.62 |

### 5.2 动量指标

| 字段名 | 中文名 | 数据类型 | 单位 | 精度 | 必填 | 说明 | 参数 | 示例 |
|--------|--------|----------|------|------|------|------|------|------|
| rsi_14 | 14日RSI | float64 | 0-100 | 4位小数 | 否 | 相对强弱指标 | 周期=14 | 65.4321 |
| macd | MACD | float64 | - | 4位小数 | 否 | 指数平滑异同移动平均线 | 12,26,9 | 0.1234 |
| macd_signal | MACD信号线 | float64 | - | 4位小数 | 否 | MACD的9日EMA | 周期=9 | 0.0987 |
| macd_hist | MACD柱状图 | float64 | - | 4位小数 | 否 | MACD-信号线 | - | 0.0247 |

### 5.3 波动率指标

| 字段名 | 中文名 | 数据类型 | 单位 | 精度 | 必填 | 说明 | 参数 | 示例 |
|--------|--------|----------|------|------|------|------|------|------|
| volatility_20 | 20日波动率 | float64 | % | 4位小数 | 否 | 年化波动率 | 周期=20 | 25.6789 |
| atr_14 | 14日ATR | float64 | 元 | 4位小数 | 否 | 平均真实波幅 | 周期=14 | 0.3456 |
| bb_upper | 布林上轨 | float64 | 元 | 2位小数 | 否 | 布林带上轨 | 20,2 | 11.20 |
| bb_lower | 布林下轨 | float64 | 元 | 2位小数 | 否 | 布林带下轨 | 20,2 | 9.80 |

## 6. 时间相关字段

### 6.1 时间标识字段

| 字段名 | 中文名 | 数据类型 | 格式 | 时区 | 必填 | 说明 | 示例 |
|--------|--------|----------|------|------|------|------|------|
| date | 交易日期 | date | YYYY-MM-DD | - | 是 | 交易发生的日期 | 2024-01-02 |
| datetime | 时间戳 | datetime | ISO8601 | UTC | 是 | 精确到秒的时间戳 | 2024-01-02T01:30:00Z |
| timestamp | Unix时间戳 | int64 | 秒 | UTC | 否 | Unix纪元秒数 | 1704160200 |
| trading_session | 交易时段 | string | - | - | 否 | AM/PM/NIGHT | AM |

### 6.2 数据血缘字段

| 字段名 | 中文名 | 数据类型 | 格式 | 必填 | 说明 | 示例 |
|--------|--------|----------|------|------|------|------|
| visibility_ts | 可见时间 | datetime | ISO8601 | 是 | 数据在系统中可见的时间 | 2024-01-03T02:00:00Z |
| created_at | 创建时间 | datetime | ISO8601 | 是 | 记录创建时间 | 2024-01-03T02:05:00Z |
| updated_at | 更新时间 | datetime | ISO8601 | 否 | 记录最后更新时间 | 2024-01-03T02:10:00Z |
| source | 数据源 | string | - | 是 | 数据来源标识 | akshare |
| source_version | 源版本 | string | - | 否 | 数据源版本号 | v1.12.99 |
| mapping_version | 映射版本 | string | - | 是 | 字段映射版本 | v1.0 |

## 7. 质量控制字段

### 7.1 数据质量标记

| 字段名 | 中文名 | 数据类型 | 取值范围 | 必填 | 说明 | 示例 |
|--------|--------|----------|----------|------|------|------|
| quality_score | 质量评分 | float64 | 0.0-1.0 | 否 | 数据质量综合评分 | 0.95 |
| quality_flags | 质量标记 | string | - | 否 | 质量问题标记，逗号分隔 | "outlier,missing" |
| is_valid | 有效标记 | boolean | true/false | 是 | 数据是否有效 | true |
| is_estimated | 估算标记 | boolean | true/false | 否 | 是否为估算值 | false |
| confidence | 置信度 | float64 | 0.0-1.0 | 否 | 数据置信度 | 0.98 |

### 7.2 异常检测字段

| 字段名 | 中文名 | 数据类型 | 说明 | 示例 |
|--------|--------|----------|------|------|
| outlier_score | 异常评分 | float64 | 异常程度评分，越高越异常 | 0.15 |
| anomaly_type | 异常类型 | string | 异常类型标识 | "price_jump" |
| validation_status | 验证状态 | string | passed/warning/failed | "passed" |

## 8. 业务规则说明

### 8.1 数据更新规则

**日频数据更新**：
- 更新时间：每个交易日收盘后2小时内
- 可见时间：T+1日凌晨2点（visibility_ts）
- 历史数据：支持回填和修正

**分钟数据更新**：
- 更新频率：实时或准实时（延迟<5分钟）
- 存储周期：保留最近1年的分钟数据
- 清理策略：超过1年的数据自动归档

### 8.2 数据一致性规则

**价格一致性**：
- 复权价格 = 原始价格 × 复权因子
- 涨跌幅 = (今收盘价 - 昨收盘价) / 昨收盘价 × 100%
- 成交额 ≈ 成交量 × 平均价格（允许小幅偏差）

**财务数据一致性**：
- 资产 = 负债 + 所有者权益
- 每股收益 = 净利润 / 总股本
- 净资产收益率 = 净利润 / 净资产 × 100%

### 8.3 数据质量标准

**完整性要求**：
- 核心字段缺失率 < 5%
- 连续缺失天数 < 5个交易日
- 财务数据季度覆盖率 > 95%

**准确性要求**：
- 价格异常波动检测（3σ规则）
- 成交量异常检测（5σ规则）
- 跨数据源一致性检查

**及时性要求**：
- 日频数据：T+1日凌晨前更新
- 分钟数据：延迟 < 5分钟
- 财务数据：公告后3个工作日内更新

## 9. 使用注意事项

### 9.1 数据使用建议

1. **复权处理**：建议使用前复权数据进行技术分析
2. **时区处理**：所有时间数据以UTC存储，使用时注意时区转换
3. **缺失值处理**：建议使用前向填充或线性插值
4. **异常值处理**：建议使用3σ规则或IQR方法检测异常值

### 9.2 性能优化建议

1. **查询优化**：使用日期和股票代码作为过滤条件
2. **批量处理**：大量数据处理时使用批量接口
3. **缓存策略**：频繁访问的数据建议使用缓存
4. **分页查询**：大结果集使用分页避免内存溢出

### 9.3 免责声明

本数据字典中的所有数据仅供参考，不构成投资建议。使用者应当：
- 独立验证数据的准确性
- 了解数据的局限性和风险
- 遵守相关法律法规
- 承担使用数据的风险和责任